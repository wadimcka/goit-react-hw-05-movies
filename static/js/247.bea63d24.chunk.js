"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[247],{713:(t,a,s)=>{s.d(a,{Bt:()=>u,LB:()=>r,bI:()=>c,hd:()=>n,y:()=>o});var e=s(294);e.Z.defaults.baseURL="https://api.themoviedb.org/3/",e.Z.defaults.params={api_key:"fb5a8efc74b4cfbb21e23283cbfdefb3",language:"en-US"};const r=async()=>{const t=await e.Z.get("trending/all/day"),{data:a}=t;if(t.status<200||t.status>=300)throw new Error("Data failed to load. Status: "+t.status);return a.results},n=async t=>{const a=await e.Z.get("movie/".concat(t)),{data:s}=a;if(a.status<200||a.status>=300)throw new Error("Data failed to load. Status: "+a.status);return s},o=async t=>{const a=await e.Z.get("movie/".concat(t,"/credits")),{data:s}=a;if(a.status<200||a.status>=300)throw new Error("Data failed to load. Status: "+a.status);return s.cast},u=async t=>{const a=await e.Z.get("movie/".concat(t,"/reviews")),{data:s}=a;if(a.status<200||a.status>=300)throw new Error("Data failed to load. Status: "+a.status);return s.results},c=async t=>{const a=await e.Z.get("search/movie?query=".concat(t)),{data:s}=a;if(a.status<200||a.status>=300)throw new Error("Data failed to load. Status: "+a.status);return s.results}},247:(t,a,s)=>{s.r(a),s.d(a,{default:()=>l});var e=s(689),r=s(85),n=s(791),o=s(713),u=s(263),c=s(184);const l=()=>{const[t,a]=(0,n.useState)([]),[s,l]=(0,n.useState)(!1),[i,d]=(0,n.useState)(null),{movieId:h}=(0,e.UO)();return(0,n.useEffect)((()=>{const t=new AbortController,s=t.signal;if(!h)return;return(async()=>{l(!0),d(null);try{const t=await(0,o.y)(h,{signal:s});a(t),0===t.length&&r.Am.warn("No data found for your request")}catch(i){d(i),r.Am.warn(i.message)}finally{l(!1)}})(),()=>{t.abort()}}),[h]),(0,c.jsxs)("div",{children:[null!==i&&r.Am.error(i),s&&(0,c.jsx)(u.a,{}),(0,c.jsx)("ul",{children:t.map((t=>{let{cast_id:a,profile_path:s,original_name:e,character:r}=t;return(0,c.jsxs)("li",{children:[(0,c.jsx)("img",{src:s?"https://image.tmdb.org/t/p/w200/".concat(s):"https://fakeimg.pl/200x300",width:250,alt:"Card"}),(0,c.jsx)("h3",{children:e}),(0,c.jsxs)("h3",{children:["Character: ",r]})]},a)}))})]})}}}]);
//# sourceMappingURL=247.bea63d24.chunk.js.map