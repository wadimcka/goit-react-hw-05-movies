"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[67],{713:(t,a,e)=>{e.d(a,{Bt:()=>i,LB:()=>r,bI:()=>l,hd:()=>s,y:()=>o});var n=e(294);n.Z.defaults.baseURL="https://api.themoviedb.org/3/",n.Z.defaults.params={api_key:"fb5a8efc74b4cfbb21e23283cbfdefb3",language:"en-US"};const r=async()=>{const t=await n.Z.get("trending/all/day"),{data:a}=t;if(t.status<200||t.status>=300)throw new Error("Data failed to load. Status: "+t.status);return a.results},s=async t=>{const a=await n.Z.get("movie/".concat(t)),{data:e}=a;if(a.status<200||a.status>=300)throw new Error("Data failed to load. Status: "+a.status);return e},o=async t=>{const a=await n.Z.get("movie/".concat(t,"/credits")),{data:e}=a;if(a.status<200||a.status>=300)throw new Error("Data failed to load. Status: "+a.status);return e.cast},i=async t=>{const a=await n.Z.get("movie/".concat(t,"/reviews")),{data:e}=a;if(a.status<200||a.status>=300)throw new Error("Data failed to load. Status: "+a.status);return e.results},l=async t=>{const a=await n.Z.get("search/movie?query=".concat(t)),{data:e}=a;if(a.status<200||a.status>=300)throw new Error("Data failed to load. Status: "+a.status);return e.results}},344:(t,a,e)=>{e.d(a,{Z:()=>g});e(791);var n,r,s,o=e(689),i=e(87),l=e(168),c=e(867);const u=c.ZP.ul(n||(n=(0,l.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n"]))),d=c.ZP.li(r||(r=(0,l.Z)(["\n  width: 200px;\n  border: 1px solid black;\n  border-radius: 8px;\n  overflow: hidden;\n  padding: 4px;\n"]))),p=c.ZP.h3(s||(s=(0,l.Z)(["\n  padding: 4px;\n  margin-top: 8px;\n  margin-bottom: 0;\n  color: black;\n  text-align: center;\n  text-decoration: none;\n"])));var h=e(184);const g=t=>{let{movieListData:a}=t;const e=(0,o.TH)();return(0,h.jsx)("div",{children:(0,h.jsx)(u,{children:a.map((t=>{let{id:a,poster_path:n,title:r}=t;return(0,h.jsx)(d,{children:(0,h.jsxs)(i.rU,{to:"/movies/".concat(a),state:{from:e},children:[(0,h.jsx)("img",{src:n?"https://image.tmdb.org/t/p/w200/".concat(n):"https://fakeimg.pl/200x300",alt:r}),(0,h.jsx)(p,{children:r})]})},a)}))})})}},67:(t,a,e)=>{e.r(a),e.d(a,{default:()=>w});var n,r,s,o=e(713),i=e(263),l=e(344),c=e(791),u=e(87),d=e(85),p=e(168),h=e(867);const g=h.ZP.div(n||(n=(0,p.Z)(["\n  padding: 30px;\n"]))),x=h.ZP.button(r||(r=(0,p.Z)(["\n  background-color: tomato;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  padding: 10px 20px;\n  margin-left: 10px;\n  cursor: pointer;\n  font-size: 16px;\n\n  &.active {\n    color: white;\n    background-color: navy;\n  }\n"])));h.ZP.input(s||(s=(0,p.Z)(["\n  padding: 10px;\n  border: 1px solid black;\n  border-radius: 4px;\n  max-width: 600px;\n"])));var f=e(184);const m=()=>{const[t,a]=(0,c.useState)(""),[,e]=(0,u.lr)();return(0,f.jsx)(g,{children:(0,f.jsxs)("form",{onSubmit:n=>{const r=t;console.log(r),n.preventDefault(),t?(e({searchQuery:r}),a(""),console.log(r)):d.Am.warn("Nothing was found for your request! Try again.")},children:[(0,f.jsx)("input",{name:"query",value:t,type:"text",onChange:t=>{a(t.target.value.trim())}}),(0,f.jsx)(x,{type:"submit",children:"Search"})]})})},w=()=>{const[t,a]=(0,c.useState)(null),[e,n]=(0,c.useState)(!1),[r,s]=(0,c.useState)(""),[p,h]=(0,c.useState)([]),[g]=(0,u.lr)();return(0,c.useEffect)((()=>{const e=new AbortController,i=e.signal;if(s(g.get("searchQuery")),console.log(r),!r)return;return(async()=>{n(!0),a(null);try{const t=await(0,o.bI)(r,{signal:i});0===t.length&&d.Am.warn("No data found for your request"),h(t)}catch(t){"AbortError"===t.name?console.log("Request was aborted"):(a(t.message),d.Am.warn(t))}finally{n(!1)}})(),()=>{e.abort()}}),[r,g]),(0,f.jsxs)("div",{children:[(0,f.jsx)(m,{}),null!==t&&d.Am.error(t),e&&(0,f.jsx)(i.a,{}),(0,f.jsx)(l.Z,{movieListData:p})]})}}}]);
//# sourceMappingURL=67.f84dfe3e.chunk.js.map