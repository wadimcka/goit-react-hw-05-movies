"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[67],{713:(t,a,e)=>{e.d(a,{Bt:()=>i,LB:()=>r,bI:()=>u,hd:()=>s,y:()=>o});var n=e(294);n.Z.defaults.baseURL="https://api.themoviedb.org/3/",n.Z.defaults.params={api_key:"fb5a8efc74b4cfbb21e23283cbfdefb3",language:"en-US"};const r=async()=>{const t=await n.Z.get("trending/all/day"),{data:a}=t;if(t.status<200||t.status>=300)throw new Error("Data failed to load. Status: "+t.status);return a.results},s=async t=>{const a=await n.Z.get("movie/".concat(t)),{data:e}=a;if(a.status<200||a.status>=300)throw new Error("Data failed to load. Status: "+a.status);return e},o=async t=>{const a=await n.Z.get("movie/".concat(t,"/credits")),{data:e}=a;if(a.status<200||a.status>=300)throw new Error("Data failed to load. Status: "+a.status);return e.cast},i=async t=>{const a=await n.Z.get("movie/".concat(t,"/reviews")),{data:e}=a;if(a.status<200||a.status>=300)throw new Error("Data failed to load. Status: "+a.status);return e.results},u=async t=>{const a=await n.Z.get("search/movie?query=".concat(t)),{data:e}=a;if(a.status<200||a.status>=300)throw new Error("Data failed to load. Status: "+a.status);return e.results}},344:(t,a,e)=>{e.d(a,{Z:()=>h});e(791);var n,r,s,o=e(689),i=e(87),u=e(168),c=e(867);const l=c.ZP.ul(n||(n=(0,u.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n"]))),d=c.ZP.li(r||(r=(0,u.Z)(["\n  width: 200px;\n  border: 1px solid black;\n  border-radius: 8px;\n  overflow: hidden;\n  padding: 4px;\n"]))),p=c.ZP.h3(s||(s=(0,u.Z)(["\n  padding: 4px;\n  margin-top: 8px;\n  margin-bottom: 0;\n  color: black;\n  text-align: center;\n  text-decoration: none;\n"])));var f=e(184);const h=t=>{let{movieListData:a}=t;const e=(0,o.TH)();return(0,f.jsx)("div",{children:(0,f.jsx)(l,{children:a.map((t=>{let{id:a,poster_path:n,title:r}=t;return(0,f.jsx)(d,{children:(0,f.jsxs)(i.rU,{to:"/movies/".concat(a),state:{from:e},children:[(0,f.jsx)("img",{src:n?"https://image.tmdb.org/t/p/w200/".concat(n):"https://fakeimg.pl/200x300",alt:r}),(0,f.jsx)(p,{children:r})]})},a)}))})})}},67:(t,a,e)=>{e.r(a),e.d(a,{default:()=>w});var n,r,s,o=e(713),i=e(263),u=e(344),c=e(791),l=e(87),d=e(85),p=e(168),f=e(867);const h=f.ZP.div(n||(n=(0,p.Z)(["\n  padding: 30px;\n"]))),m=f.ZP.button(r||(r=(0,p.Z)(["\n  background-color: tomato;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  padding: 10px 20px;\n  margin-left: 10px;\n  cursor: pointer;\n  font-size: 16px;\n\n  &.active {\n    color: white;\n    background-color: navy;\n  }\n"])));f.ZP.input(s||(s=(0,p.Z)(["\n  padding: 10px;\n  border: 1px solid black;\n  border-radius: 4px;\n  max-width: 600px;\n"])));var x=e(184);const g=t=>{let{onSubmit:a}=t;const[e,n]=(0,c.useState)(""),[,r]=(0,l.lr)();return(0,x.jsx)(h,{children:(0,x.jsxs)("form",{onSubmit:t=>{t.preventDefault(),e?(n(""),a(e)):d.Am.warn("Nothing was found for your request! Try again.")},children:[(0,x.jsx)("input",{name:"query",value:e,type:"text",onChange:t=>{const a=t.target.value;if(!a||""===a)return r({}),void n("");r({searchQuery:a}),n(t.target.value.trim())}}),(0,x.jsx)(m,{type:"submit",children:"Search"})]})})},w=()=>{const[t,a]=(0,c.useState)(null),[e,n]=(0,c.useState)(!1),[r,s]=(0,c.useState)(""),[p,f]=(0,c.useState)([]),[h]=(0,l.lr)();return(0,c.useEffect)((()=>{const e=new AbortController,s=e.signal;if(!r)return;return(async()=>{n(!0),a(null);try{const t=await(0,o.bI)(r,{signal:s});0===t.length&&d.Am.warn("No data found for your request"),f(t)}catch(t){"AbortError"===t.name?console.log("Request was aborted"):(a(t.message),d.Am.warn(t))}finally{n(!1)}})(),()=>{e.abort()}}),[r]),(0,c.useEffect)((()=>{const t=h.get("searchQuery");t&&!r&&s(t)}),[h,r]),(0,x.jsxs)("div",{children:[(0,x.jsx)(g,{onSubmit:t=>{s(t)}}),null!==t&&d.Am.error(t),e&&(0,x.jsx)(i.a,{}),(0,x.jsx)(u.Z,{movieListData:p})]})}}}]);
//# sourceMappingURL=67.2274cd3b.chunk.js.map